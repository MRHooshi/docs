{
    "title": "باز",
    "attributes": [
        {
            "key": "FORMAT",
            "value": "1A"
        },
        {
            "key": "HOST",
            "value": "http://api.sobhe.ir:7000/"
        }
    ],
    "copies": [
        "باز قرار است تجربه جستجوی هوشمند را برای خدمات وب فارسی فراهم کند تا مخاطب آسان تر به نتیجه مطلوب برسد.",
        "برای دسترسی به واسط برنامه نویس باز، نیاز به یک TOKEN_KEY معتبر دارید که برای احراز هویت استفاده می شود. لطفا برای آزمایش سامانه، این متغیر را در تقاضاهای نمونه، جای گذاری کنید. سوال هم اگر دارید، لطفا برای آدرس baaz@sobhe.ir بنویسید."
    ],
    "resources": [
        {
            "title": "نمایه‌سازی",
            "href": "/{index_name}/index",
            "hrefVariables": [
                {
                    "title": "string",
                    "description": "شناسه نمایه",
                    "key": "index_name",
                    "value": "baaz",
                    "typeAttributes": [
                        "required"
                    ]
                }
            ],
            "copies": [
                "برای جستجوی اسناد ابتدا باید آنها را نمایه کنید. نمایه جستجو در واقع بخشی از پایگاه داده‌ها است که انتظار دارید، کاربر با نوشتن عبارت مورد نظر، نتیجه را از میان آنها پیدا کند."
            ],
            "transitions": [
                {
                    "title": "ثبت داده‌ها",
                    "copies": [
                        "این تابع امکان افزودن اسناد به  نمایه را فراهم می‌کند. ورودی items برای این تابع، شامل فهرستی از اسناد است که هر کدام از آنها باید در نمایه ثبت شوند."
                    ],
                    "httpRequest": {
                        "method": "POST",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Token TOKEN_KEY"
                            }
                        ],
                        "sections": [
                            {
                                "type": "dataStructure",
                                "members": [
                                    {
                                        "description": "این ویژگی نوع سند را مشخص می‌کند و برای محدود کردن دامنه جستجو استفاده می‌شود",
                                        "typeAttributes": [
                                            "required"
                                        ],
                                        "key": "type",
                                        "value": "movie"
                                    },
                                    {
                                        "description": "شناسه سند که در هر «نوع»، ویژگی یکتا محسوب می‌شود",
                                        "typeAttributes": [
                                            "required"
                                        ],
                                        "key": "id",
                                        "value": 1
                                    },
                                    {
                                        "description": "عنوان سند که مهم‌ترین ویژگی متنی در رتبه‌بندی نتایج است",
                                        "typeAttributes": [
                                            "required"
                                        ],
                                        "key": "title",
                                        "value": "ماجرای نیمروز"
                                    },
                                    {
                                        "description": "هر چه میزان اهمیت یک سند بالاتر باشد، رتبه آن در میان نتایج بالاتر است",
                                        "typeAttributes": [],
                                        "key": "importance",
                                        "value": 100
                                    },
                                    {
                                        "description": "هر چه زمان ایجاد سند به زمان حال نزدیکتر باشد، رتبه آن در میان نتایج بالاتر است",
                                        "typeAttributes": [],
                                        "key": "time",
                                        "value": "2017-07-08 10:30:00"
                                    },
                                    {
                                        "description": "مجموعه برچسب‌های سند که جستجو نمی‌شوند و فقط برای محدود کردن نتایج مورد استفاده قرار می‌گیرند",
                                        "typeAttributes": [],
                                        "key": "labels",
                                        "value": [
                                            {
                                                "element": "string",
                                                "content": "هیجانی"
                                            },
                                            {
                                                "element": "string",
                                                "content": "ماجراجویی"
                                            }
                                        ]
                                    },
                                    {
                                        "description": "هر ویژگی دیگری در قالب «نوشته» یا «نوشته‌ها» می‌تواند برای سند ثبت شود و مورد جستجو قرار گیرد",
                                        "typeAttributes": [],
                                        "key": "...",
                                        "value": "..."
                                    }
                                ]
                            },
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n    \"items\": [\n        {\n            \"type\": \"movie\",\n            \"id\": 1,\n            \"title\": \"ماجرای نیمروز\",\n            \"director\": \"محمدحسین مهدویان\",\n            \"actors\": [\"جواد عزتی\", \"هادی حجازی‌فر\"],\n            \"labels\": [\"هیجانی\", \"ماجراجویی\"],\n            \"importance\": 100,\n            \"data\": {\"url\": \"https://www.filimo.com/m/czWum\"}\n        },\n        {\n            \"type\": \"movie\",\n            \"id\": 2,\n            \"title\": \"ایستاده در غبار\",\n            \"director\": \"محمدحسین مهدویان\",\n            \"labels\": [\"هیجانی\", \"جنگی\"],\n            \"importance\": 50,\n            \"data\": {\"url\": \"https://www.filimo.com/m/fsa4n\"}\n        },\n        {\n            \"type\": \"person\",\n            \"id\": 1,\n            \"title\": \"ابراهیم حاتمی‌کیا\",\n            \"data\": {\"url\": \"https://www.filimo.com/crew/ابراهیم_حاتمی_کیا\"}\n        }\n    ]\n}\n"
                            },
                            {
                                "type": "messageBodySchema",
                                "contentType": "application/schema+json",
                                "content": "{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"type\": {\n      \"type\": \"string\"\n    },\n    \"id\": {\n      \"type\": \"number\"\n    },\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"importance\": {\n      \"type\": \"number\"\n    },\n    \"time\": {\n      \"type\": \"string\"\n    },\n    \"labels\": {\n      \"type\": \"array\"\n    },\n    \"...\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"type\",\n    \"id\",\n    \"title\"\n  ]\n}"
                            }
                        ]
                    },
                    "httpResponse": {
                        "statusCode": "200",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n    \"ids\": [1, 2, 1]\n}\n"
                            }
                        ]
                    }
                },
                {
                    "title": "ویرایش داده‌ها",
                    "copies": [
                        "این تابع امکان ویرایش اسناد ثبت‌شده را فراهم می‌کند. برای این منظور، کافیست داده‌های جدید به همراه type و id سند فرستاده شوند. توجه کنید که در هنگام به‌روزرسانی، فقط اطلاعات ارسال‌شده ذخیره می‌شوند و دیگر ویژگی‌های سند، تغییر نمی‌کنند."
                    ],
                    "httpRequest": {
                        "method": "PUT",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Token TOKEN_KEY"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n    \"items\": [\n        {\n            \"type\": \"movie\",\n            \"id\": 1,\n            \"importance\": 200\n        }\n    ]\n}\n"
                            }
                        ]
                    },
                    "httpResponse": {
                        "statusCode": "200",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n    \"ids\": [1]\n}\n"
                            }
                        ]
                    }
                },
                {
                    "title": "حذف داده‌ها",
                    "copies": [
                        "این تابع امکان حذف مجموعه‌ای از اسناد را فراهم می‌کند. ویژگی type نمایش‌دهنده نوع اسناد است و ids شناسه آنها را مشخص می‌کند."
                    ],
                    "httpRequest": {
                        "method": "DELETE",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Token TOKEN_KEY"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n    \"type\": \"movie\",\n    \"ids\": [2]\n}\n"
                            }
                        ]
                    },
                    "httpResponse": {
                        "statusCode": "200",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n    \"ids\": [2]\n}\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "title": "‌",
            "href": "/{index_name}/{types}/query{?fields,text,size,from}",
            "hrefVariables": [
                {
                    "title": "string",
                    "description": "شناسه نمایه",
                    "key": "index_name",
                    "value": "baaz",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "فهرست دسته‌ها که با نویسه خط (|) به هم متصل شده‌اند",
                    "key": "types",
                    "value": "movie|person",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "عبارت مورد جستجو",
                    "key": "text",
                    "value": "نیم‌روز",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "فهرست ویژگی‌ها که با نویسه خط (|) به هم متصل شده‌اند",
                    "key": "fields",
                    "value": "title|director",
                    "typeAttributes": [
                        "optional"
                    ]
                },
                {
                    "title": "number",
                    "description": "تعداد نتایج در پاسخ",
                    "key": "size",
                    "value": "10",
                    "typeAttributes": [
                        "optional"
                    ]
                },
                {
                    "title": "number",
                    "description": "نقطه شروع برای صفحه‌بندی نتایج",
                    "key": "from",
                    "value": "0",
                    "typeAttributes": [
                        "optional"
                    ]
                }
            ],
            "copies": [
                "جستجوی اسناد"
            ],
            "transitions": [
                {
                    "title": "جستجو",
                    "copies": [
                        "داده‌های نمایه‌شده با استفاده از این تابع قابل جستجو هستند. گاهی پیش می‌آید که کاربر عبارت مورد نظرش را اشتباه می‌نویسد؛ در این مواقع، پاسخ جستجو با ویژگی didYouMean همراه است که واژه‌های اصلاح‌شده، در آن با تگ‌های تاکید مشخص شده‌اند."
                    ],
                    "httpRequest": {
                        "method": "GET",
                        "headerAttributes": [],
                        "sections": []
                    },
                    "httpResponse": {
                        "statusCode": "200",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n  \"didYouMean\": \"<em>نیمروز</em>\",\n  \"items\": [\n    {\n      \"type\": \"movie\",\n      \"id\": \"1\",\n      \"item\": {\n        \"title\": \"ماجرای نیمروز\",\n        \"director\": \"محمدحسین مهدویان\",\n        \"labels\": [\"هیجانی\", \"ماجراجویی\"],\n        \"actors\": [\"جواد عزتی\", \"هادی حجازی‌فر\"],\n        \"importance\": 100,\n        \"data\": {\"url\": \"https://www.filimo.com/m/czWum\"}\n      },\n      \"highlight\": {\n        \"title\": [\"ماجرای <em>نیمروز</em>\"]\n      },\n      \"_score\": 7.0999684\n    }\n  ]\n}\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "title": "‌",
            "href": "/{index_name}/{types}/complete{?text,size,from}",
            "hrefVariables": [
                {
                    "title": "string",
                    "description": "شناسه نمایه",
                    "key": "index_name",
                    "value": "baaz",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "فهرست دسته‌ها که با نویسه خط (|) به هم متصل شده‌اند",
                    "key": "types",
                    "value": "person",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "عبارت مورد جستجو",
                    "key": "text",
                    "value": "ابراهیم حا",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "number",
                    "description": "تعداد نتایج در پاسخ",
                    "key": "size",
                    "value": "10",
                    "typeAttributes": [
                        "optional"
                    ]
                },
                {
                    "title": "number",
                    "description": "نقطه شروع برای صفحه‌بندی نتایج",
                    "key": "from",
                    "value": "0",
                    "typeAttributes": [
                        "optional"
                    ]
                }
            ],
            "copies": [],
            "transitions": [
                {
                    "title": "جستجوی در لحظه",
                    "copies": [
                        "تابع جستجوی در لحظه برای استفاده در مواقعی است که با هر بار فشار دادن کلید توسط مخاطب، جستجو انجام می‌شود. در واقع این تابع فرض می‌کند که آخرین کلمه عبارت، هنوز تکمیل نشده است. در این روش، کاربر سریع‌تر به نتیجه مطلوب دست می‌یابد."
                    ],
                    "httpRequest": {
                        "method": "GET",
                        "headerAttributes": [],
                        "sections": []
                    },
                    "httpResponse": {
                        "statusCode": "200",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n  \"items\": [\n    {\n      \"type\": \"person\",\n      \"id\": \"1\",\n      \"item\": {\n        \"title\": \"ابراهیم حاتمی‌کیا\",\n        \"importance\": 1,\n        \"data\": {\"url\": \"https://www.filimo.com/crew/ابراهیم_حاتمی_کیا\"}\n      },\n      \"highlight\": {\n        \"title\": [\"<em>ابراهیم حاتمی‌کیا</em>\"]\n      },\n      \"_score\": 2.5382035\n    }\n  ]\n}\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "title": "‌",
            "href": "/{index_name}/{types}/suggest{?text}",
            "hrefVariables": [
                {
                    "title": "string",
                    "description": "شناسه نمایه",
                    "key": "index_name",
                    "value": "baaz",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "فهرست دسته‌ها که با نویسه خط (|) به هم متصل شده‌اند",
                    "key": "types",
                    "value": "movie",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "عبارت مورد جستجو",
                    "key": "text",
                    "value": "ن",
                    "typeAttributes": [
                        "required"
                    ]
                }
            ],
            "copies": [],
            "transitions": [
                {
                    "title": "پیشنهاد جستجو",
                    "copies": [
                        "وقتی کاربر در حال نوشتن عبارت مورد نظر است، باز با استفاده از جستجوهای قبلی، تلاش می‌کند به کاربر عبارت مناسبی را برای جستجو پیشنهاد دهد."
                    ],
                    "httpRequest": {
                        "method": "GET",
                        "headerAttributes": [],
                        "sections": []
                    },
                    "httpResponse": {
                        "statusCode": "200",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n  \"items\": [\n    {\n      \"text\": \"نیم‌روز\",\n      \"count\": 2\n    }\n  ]\n}\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "title": "‌",
            "href": "/{index_name}/{types}/similars",
            "hrefVariables": [
                {
                    "title": "string",
                    "description": "شناسه نمایه",
                    "key": "index_name",
                    "value": "baaz",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "فهرست دسته‌ها که با نویسه خط (|) به هم متصل شده‌اند",
                    "key": "types",
                    "value": "movie",
                    "typeAttributes": [
                        "required"
                    ]
                }
            ],
            "copies": [],
            "transitions": [
                {
                    "title": "اسناد مشابه",
                    "copies": [
                        "تابع اسناد مشابه، با دریافت اطلاعات مربوط به یک سند، شبیه‌ترین گزینه‌ها را به سند مورد نظر پیدا کرده و میزان تشابه هر کدام را مشخص می‌کند."
                    ],
                    "httpRequest": {
                        "method": "POST",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Token TOKEN_KEY"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n    \"title\": \"پرویز\"\n}\n"
                            }
                        ]
                    },
                    "httpResponse": {
                        "statusCode": "200",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n  \"items\": [\n    {\n      \"title\": \"پرویز\",\n      \"similarity\": 100\n        }\n     ]\n}\n"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "title": "‌",
            "href": "/{index_name}/{types}/sources",
            "hrefVariables": [
                {
                    "title": "string",
                    "description": "شناسه نمایه",
                    "key": "index_name",
                    "value": "baaz",
                    "typeAttributes": [
                        "required"
                    ]
                },
                {
                    "title": "string",
                    "description": "فهرست دسته‌ها که با نویسه خط (|) به هم متصل شده‌اند",
                    "key": "types",
                    "value": "movie",
                    "typeAttributes": [
                        "required"
                    ]
                }
            ],
            "copies": [],
            "transitions": [
                {
                    "title": "اسناد منبع",
                    "copies": [
                        "تابع اسناد منبع، با دریافت اطلاعات مربوط به یک سند، منابعی را که این سند با استفاده از آنها درست شده است، پیدا کرده و میزان تشابه را برای هر بخش مشخص می‌کند."
                    ],
                    "httpRequest": {
                        "method": "POST",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Token TOKEN_KEY"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n  \"description\": \"شهر موشها فیلم سینمایی عروسکی تولیدی سال ۱۳۶۴ به کارگردانی سینمایی محمدعلی طالبی و کارگردانی عروسکی مرضیه برومند است. این فیلم سینمایی برای ردهٔ سنی کودکان ساخته شده و عروسک‌های بازیگر آن قبلاً در سریال تلویزیونی مدرسه موش‌ها ایفای نقش کرده بودند.\"\n}\n"
                            }
                        ]
                    },
                    "httpResponse": {
                        "statusCode": "200",
                        "headerAttributes": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "sections": [
                            {
                                "type": "messageBody",
                                "contentType": "application/json",
                                "content": "{\n  \"items\": [\n    {\n      \"similarity\": 100,\n      \"src_link\": \"/baaz/movie/view?id=3\",\n      \"src_title\": \"شهر موشها\",\n      \"susp_from\": 0,\n      \"susp_to\": 247,\n      \"src_from\": 0,\n      \"src_to\": 247,\n      \"src_text\": \"شهر موشها فیلم سینمایی عروسکی تولیدی سال ۱۳۶۴ به کارگردانی سینمایی محمدعلی طالبی و کارگردانی عروسکی مرضیه برومند است. این فیلم سینمایی برای ردهٔ سنی کودکان ساخته شده و عروسک‌های بازیگر آن قبلاً در سریال تلویزیونی مدرسه موش‌ها ایفای نقش کرده بودند.\"\n    }\n  ]\n}\n"
                            }
                        ]
                    }
                }
            ]
        }
    ]
}